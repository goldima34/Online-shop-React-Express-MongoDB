{"ast":null,"code":"import raf from \"rc-util/es/raf\";\nimport * as React from 'react';\nimport { useRef } from 'react';\nexport default function useFrameState(defaultValue) {\n  const [value, setValue] = React.useState(defaultValue);\n  const frameRef = useRef(null);\n  const batchRef = useRef([]);\n  const destroyRef = useRef(false);\n  React.useEffect(() => {\n    destroyRef.current = false;\n    return () => {\n      destroyRef.current = true;\n      raf.cancel(frameRef.current);\n      frameRef.current = null;\n    };\n  }, []);\n  function setFrameValue(updater) {\n    if (destroyRef.current) {\n      return;\n    }\n    if (frameRef.current === null) {\n      batchRef.current = [];\n      frameRef.current = raf(() => {\n        frameRef.current = null;\n        setValue(prevValue => {\n          let current = prevValue;\n          batchRef.current.forEach(func => {\n            current = func(current);\n          });\n          return current;\n        });\n      });\n    }\n    batchRef.current.push(updater);\n  }\n  return [value, setFrameValue];\n}","map":{"version":3,"names":["raf","React","useRef","useFrameState","defaultValue","value","setValue","useState","frameRef","batchRef","destroyRef","useEffect","current","cancel","setFrameValue","updater","prevValue","forEach","func","push"],"sources":["C:/Users/Admin/git/react-node-app/client/node_modules/antd/es/form/hooks/useFrameState.js"],"sourcesContent":["import raf from \"rc-util/es/raf\";\r\nimport * as React from 'react';\r\nimport { useRef } from 'react';\r\nexport default function useFrameState(defaultValue) {\r\n  const [value, setValue] = React.useState(defaultValue);\r\n  const frameRef = useRef(null);\r\n  const batchRef = useRef([]);\r\n  const destroyRef = useRef(false);\r\n  React.useEffect(() => {\r\n    destroyRef.current = false;\r\n    return () => {\r\n      destroyRef.current = true;\r\n      raf.cancel(frameRef.current);\r\n      frameRef.current = null;\r\n    };\r\n  }, []);\r\n  function setFrameValue(updater) {\r\n    if (destroyRef.current) {\r\n      return;\r\n    }\r\n    if (frameRef.current === null) {\r\n      batchRef.current = [];\r\n      frameRef.current = raf(() => {\r\n        frameRef.current = null;\r\n        setValue(prevValue => {\r\n          let current = prevValue;\r\n          batchRef.current.forEach(func => {\r\n            current = func(current);\r\n          });\r\n          return current;\r\n        });\r\n      });\r\n    }\r\n    batchRef.current.push(updater);\r\n  }\r\n  return [value, setFrameValue];\r\n}"],"mappings":"AAAA,OAAOA,GAAG,MAAM,gBAAgB;AAChC,OAAO,KAAKC,KAAK,MAAM,OAAO;AAC9B,SAASC,MAAM,QAAQ,OAAO;AAC9B,eAAe,SAASC,aAAaA,CAACC,YAAY,EAAE;EAClD,MAAM,CAACC,KAAK,EAAEC,QAAQ,CAAC,GAAGL,KAAK,CAACM,QAAQ,CAACH,YAAY,CAAC;EACtD,MAAMI,QAAQ,GAAGN,MAAM,CAAC,IAAI,CAAC;EAC7B,MAAMO,QAAQ,GAAGP,MAAM,CAAC,EAAE,CAAC;EAC3B,MAAMQ,UAAU,GAAGR,MAAM,CAAC,KAAK,CAAC;EAChCD,KAAK,CAACU,SAAS,CAAC,MAAM;IACpBD,UAAU,CAACE,OAAO,GAAG,KAAK;IAC1B,OAAO,MAAM;MACXF,UAAU,CAACE,OAAO,GAAG,IAAI;MACzBZ,GAAG,CAACa,MAAM,CAACL,QAAQ,CAACI,OAAO,CAAC;MAC5BJ,QAAQ,CAACI,OAAO,GAAG,IAAI;IACzB,CAAC;EACH,CAAC,EAAE,EAAE,CAAC;EACN,SAASE,aAAaA,CAACC,OAAO,EAAE;IAC9B,IAAIL,UAAU,CAACE,OAAO,EAAE;MACtB;IACF;IACA,IAAIJ,QAAQ,CAACI,OAAO,KAAK,IAAI,EAAE;MAC7BH,QAAQ,CAACG,OAAO,GAAG,EAAE;MACrBJ,QAAQ,CAACI,OAAO,GAAGZ,GAAG,CAAC,MAAM;QAC3BQ,QAAQ,CAACI,OAAO,GAAG,IAAI;QACvBN,QAAQ,CAACU,SAAS,IAAI;UACpB,IAAIJ,OAAO,GAAGI,SAAS;UACvBP,QAAQ,CAACG,OAAO,CAACK,OAAO,CAACC,IAAI,IAAI;YAC/BN,OAAO,GAAGM,IAAI,CAACN,OAAO,CAAC;UACzB,CAAC,CAAC;UACF,OAAOA,OAAO;QAChB,CAAC,CAAC;MACJ,CAAC,CAAC;IACJ;IACAH,QAAQ,CAACG,OAAO,CAACO,IAAI,CAACJ,OAAO,CAAC;EAChC;EACA,OAAO,CAACV,KAAK,EAAES,aAAa,CAAC;AAC/B","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}
{"ast":null,"code":"export const CreateBasket = async () => {\n  let basket = [];\n  localStorage.setItem(\"basket\", basket);\n};\n_c = CreateBasket;\nexport const addItemToNotAuthBasket = async (newItem, count) => {\n  let basket = JSON.parse(localStorage.getItem(\"basket\")) || [];\n  let found = false;\n  basket.forEach(item => {\n    if (item.item._id === newItem._id) {\n      item.count += count;\n      found = true;\n    }\n  });\n  if (!found) {\n    basket.push({\n      item: newItem,\n      count: count\n    });\n  }\n  localStorage.setItem(\"basket\", JSON.stringify(basket));\n};\nexport const getNotAuthBasket = () => {\n  let basket = JSON.parse(localStorage.getItem(\"basket\")) || [];\n  return basket;\n};\nexport const decreaseNotAuthBasket = id => {\n  let basket = JSON.parse(localStorage.getItem(\"basket\")) || [];\n  basket.forEach(item => {\n    if (item.item._id === id && item.count > 1) {\n      item.count--;\n    }\n  });\n  localStorage.setItem(\"basket\", JSON.stringify(basket));\n  console.log(localStorage.getItem(\"basket\"));\n};\nexport const increaseNotAuthBasket = id => {\n  let basket = JSON.parse(localStorage.getItem(\"basket\")) || [];\n  basket.forEach(item => {\n    if (item.item._id === id) {\n      item.count++;\n    }\n  });\n  localStorage.setItem(\"basket\", JSON.stringify(basket));\n  console.log(localStorage.getItem(\"basket\"));\n};\nexport const getSumNotAuthBasket = () => {\n  let sum = 0;\n  let basket = JSON.parse(localStorage.getItem(\"basket\")) || [];\n  basket.forEach(item => {\n    sum += item.item.price * item.count;\n  });\n  return sum;\n};\nexport const deleteNotAuthBasket = () => {\n  let basket = JSON.parse(localStorage.getItem(\"basket\")) || [];\n  basket = basket.filter(item => item.item._id !== itemId);\n  localStorage.setItem(\"basket\", JSON.stringify(basket));\n};\nvar _c;\n$RefreshReg$(_c, \"CreateBasket\");","map":{"version":3,"names":["CreateBasket","basket","localStorage","setItem","_c","addItemToNotAuthBasket","newItem","count","JSON","parse","getItem","found","forEach","item","_id","push","stringify","getNotAuthBasket","decreaseNotAuthBasket","id","console","log","increaseNotAuthBasket","getSumNotAuthBasket","sum","price","deleteNotAuthBasket","filter","itemId","$RefreshReg$"],"sources":["C:/Users/golov/coding/git_repo_practice/react-node-app-7/client/src/api/NotAuthBasketApi.js"],"sourcesContent":["export const CreateBasket = async () => {\r\n  let basket = [];\r\n  localStorage.setItem(\"basket\", basket);\r\n};\r\n\r\nexport const addItemToNotAuthBasket = async (newItem, count) => {\r\n  let basket = JSON.parse(localStorage.getItem(\"basket\")) || [];\r\n  let found = false;\r\n  basket.forEach((item) => {\r\n    if (item.item._id === newItem._id) {\r\n      item.count += count;\r\n      found = true;\r\n    }\r\n  });\r\n\r\n  if (!found) {\r\n    basket.push({ item: newItem, count: count });\r\n  }\r\n  localStorage.setItem(\"basket\", JSON.stringify(basket));\r\n};\r\n\r\nexport const getNotAuthBasket = () => {\r\n  let basket = JSON.parse(localStorage.getItem(\"basket\")) || [];\r\n  return basket;\r\n};\r\n\r\nexport const decreaseNotAuthBasket = (id) => {\r\n  let basket = JSON.parse(localStorage.getItem(\"basket\")) || [];\r\n  basket.forEach((item) => {\r\n    if (item.item._id === id && item.count > 1) {\r\n      item.count--;\r\n    }\r\n  });\r\n  localStorage.setItem(\"basket\", JSON.stringify(basket));\r\n  console.log(localStorage.getItem(\"basket\"));\r\n};\r\n\r\nexport const increaseNotAuthBasket = (id) => {\r\n  let basket = JSON.parse(localStorage.getItem(\"basket\")) || [];\r\n  basket.forEach((item) => {\r\n    if (item.item._id === id) {\r\n      item.count++;\r\n    }\r\n  });\r\n  localStorage.setItem(\"basket\", JSON.stringify(basket));\r\n  console.log(localStorage.getItem(\"basket\"));\r\n};\r\n\r\nexport const getSumNotAuthBasket = () => {\r\n  let sum = 0;\r\n  let basket = JSON.parse(localStorage.getItem(\"basket\")) || [];\r\n  basket.forEach((item) => {\r\n    sum += item.item.price * item.count;\r\n  });\r\n  return sum;\r\n};\r\n\r\nexport const deleteNotAuthBasket = () => {\r\n    let basket = JSON.parse(localStorage.getItem(\"basket\")) || [];\r\n    basket = basket.filter((item) => item.item._id !== itemId);\r\n    localStorage.setItem(\"basket\", JSON.stringify(basket));\r\n}"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}